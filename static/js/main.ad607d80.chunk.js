(this["webpackJsonptodo-lists"]=this["webpackJsonptodo-lists"]||[]).push([[0],{227:function(e){e.exports=JSON.parse('{"todoLists":[{"key":0,"name":"Things I am Never Gonna Do","owner":"Rick Astley","items":[{"key":0,"description":"Give You Up","due_date":"2019-09-30","assigned_to":"Rick","completed":true},{"key":1,"description":"Say Goodbye","due_date":"2019-10-15","assigned_to":"Rick","completed":false},{"key":2,"description":"Make You Cry","due_date":"2019-12-30","assigned_to":"Bob","completed":false}]},{"key":1,"name":"House Repairs","owner":"Bob Vila","items":[{"key":0,"description":"Repair Leaky Kitchen Sink","due_date":"2019-07-11","assigned_to":"Rick","completed":true},{"key":1,"description":"Fix Leak in Roof","due_date":"2019-10-15","assigned_to":"Jane","completed":false},{"key":2,"description":"Paint Interior","due_date":"2019-11-11","assigned_to":"Joe","completed":false},{"key":3,"description":"Plant Flowers","due_date":"2019-08-17","assigned_to":"Ryan","completed":true},{"key":4,"description":"Repair Front Door","due_date":"2019-10-31","assigned_to":"Glenda","completed":false}]},{"key":2,"name":"Courses to Take","owner":"Joe Student","items":[{"key":0,"description":"CSE 114","due_date":"2018-12-31","assigned_to":"Joe","completed":true},{"key":1,"description":"CSE 215","due_date":"2018-12-31","assigned_to":"Joe","completed":true},{"key":2,"description":"AMS 301","due_date":"2018-12-31","assigned_to":"Joe","completed":true},{"key":3,"description":"CSE 214","due_date":"2019-05-31","assigned_to":"Joe","completed":true},{"key":4,"description":"AMS 310","due_date":"2019-05-31","assigned_to":"Joe","completed":true},{"key":5,"description":"CSE 216","due_date":"2019-12-31","assigned_to":"Joe","completed":false},{"key":6,"description":"CSE 220","due_date":"2019-12-31","assigned_to":"Joe","completed":false},{"key":7,"description":"CSE 316","due_date":"2020-05-31","assigned_to":"Joe","completed":false},{"key":8,"description":"CSE 303","due_date":"2020-05-31","assigned_to":"Joe","completed":false},{"key":9,"description":"CSE 380","due_date":"2020-05-31","assigned_to":"Joe","completed":false},{"key":10,"description":"CSE 373","due_date":"2020-12-31","assigned_to":"Joe","completed":false},{"key":11,"description":"CSE 381","due_date":"2020-12-31","assigned_to":"Joe","completed":false},{"key":12,"description":"CSE 416","due_date":"2020-12-31","assigned_to":"Joe","completed":false}]}]}')},228:function(e,t,a){e.exports=a(465)},233:function(e,t,a){},234:function(e,t,a){},465:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(66),o=a.n(i);a(233),a(234),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(4),s=a(5),l=a(7),d=a(6),m=a(8),u=a(11),p=a(226),h=a(13),f=a(12),b=a(144),E=a.n(b);a(417),a(420);E.a.initializeApp({apiKey:"AIzaSyCjQ8vVMu1FN0v7q28yx85n8aNUJmDWMbA",authDomain:"todo-rrf-e05ea.firebaseapp.com",databaseURL:"https://todo-rrf-e05ea.firebaseio.com",projectId:"todo-rrf-e05ea",storageBucket:"todo-rrf-e05ea.appspot.com",messagingSenderId:"817088435991",appId:"1:817088435991:web:24f24c26cc4161ef25c952",measurementId:"G-NWCPE2N4S5"});var g=E.a,v=a(17);function _(){return{type:"REGISTER_SUCCESS"}}function O(e){return{type:"REGISTER_ERROR",error:e}}function y(){return{type:"LOGOUT_SUCCESS"}}var k={},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return Object(v.a)(Object(v.a)({},e),{},{authError:"Login fail"});case"LOGIN_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{authError:null});case"LOGOUT_SUCCESS":return e;case"REGISTER_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{authError:null});case"REGISTER_ERROR":return Object(v.a)(Object(v.a)({},e),{},{authError:t.err.message});default:return e}},C={todoLists:[]},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;return t.type,e},L=Object(m.c)({auth:j,todoList:N,firestore:h.firestoreReducer,firebase:f.firebaseReducer}),w=a(15),S=a(14),I=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(){var t=e.props.firebase;e.props.signOut(t)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.profile;return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(w.c,{to:"/",onClick:this.handleLogout},"Log Out"))," ",r.a.createElement("li",null,r.a.createElement(w.c,{to:"/",className:"btn btn-floating pink lighten-1"},e.initials)))}}]),a}(r.a.Component),x=Object(m.d)(Object(f.firebaseConnect)(),Object(u.b)(null,(function(e){return{signOut:function(t){return e(function(e){return function(t,a){e.auth().signOut().then((function(){t(y)}))}}(t))}}})))(I),R=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(w.c,{to:"/register"},"Register")))}}]),a}(r.a.Component),D=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.profile,n=t.uid?r.a.createElement(x,{profile:a}):r.a.createElement(R,null);return r.a.createElement("nav",{className:"nav-wrapper grey darken-3"},r.a.createElement("div",{className:"container"},r.a.createElement(w.b,{to:"/",className:"brand-logo"},"@todo"),n))}}]),a}(r.a.Component),F=Object(m.d)(Object(f.firebaseConnect)(),Object(u.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}})))(D),T=a(34),B=a(53),A=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",firstName:"",lastName:""},e.handleChange=function(t){var a=t.target;e.setState((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(T.a)({},a.id,a.value))}))},e.handleSubmit=function(t){t.preventDefault();var a=Object(B.a)(e),n=a.props,r=a.state,i=n.firebase,o=Object(v.a)({},r);n.register(o,i)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?r.a.createElement(S.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Register"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement("input",{type:"text",name:"firstName",id:"firstName",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement("input",{type:"text",name:"lastName",id:"lastName",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{type:"submit",className:"btn pink lighten-1 z-depth-0"},"Sign Up"),a?r.a.createElement("div",{className:"red-text center"},r.a.createElement("p",null,a)):null)))}}]),a}(n.Component),U=Object(m.d)(Object(f.firebaseConnect)(),Object(u.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{register:function(t,a){return e(function(e,t){return function(a,n,r){var i=(0,r.getFirestore)();t.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return i.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initials:"".concat(e.firstName[0]).concat(e.lastName[0])})})).then((function(){a(_)})).catch((function(e){a(O)}))}}(t,a))}}})))(A),J=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:""},e.handleChange=function(t){var a=t.target;e.setState((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(T.a)({},a.id,a.value))}))},e.handleSubmit=function(t){t.preventDefault();var a=Object(B.a)(e),n=a.props,r=a.state,i={firebase:n.firebase,credentials:Object(v.a)({},r)};n.login(i)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.auth,a=e.authError;return t.uid?r.a.createElement(S.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"col s4 white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Login"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{className:"active",type:"email",name:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{className:"active",type:"password",name:"password",id:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{type:"submit",className:"btn pink lighten-1 z-depth-0"},"Login"),a?r.a.createElement("div",{className:"red-text center"},r.a.createElement("p",null,a)):null)),r.a.createElement("div",{className:"col s8 banner"},"@todo",r.a.createElement("br",null),"List Maker")))}}]),a}(n.Component),P=Object(m.d)(Object(f.firebaseConnect)(),Object(u.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{login:function(t){return e(function(e){var t=e.credentials,a=e.firebase;return function(e,n){a.auth().signInWithEmailAndPassword(t.email,t.password).then((function(){console.log("LOGIN_SUCCESS"),e({type:"LOGIN_SUCCESS"})})).catch((function(t){e({type:"LOGIN_ERROR",err:t})}))}}(t))}}})))(J),G=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.todoList;return console.log("TodoListCard, todoList.id: "+e.id),r.a.createElement("div",{className:"card z-depth-0 todo-list-link"},r.a.createElement("div",{className:"card-content grey-text text-darken-3"},r.a.createElement("span",{className:"card-title"},e.name)))}}]),a}(r.a.Component),M=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.todoLists;return console.log(e),r.a.createElement("div",{className:"todo-lists section"},e&&e.map((function(e){return r.a.createElement(w.b,{to:"/todoList/"+e.id,key:e.id},r.a.createElement(G,{todoList:e}))})))}}]),a}(r.a.Component),z=Object(m.d)(Object(u.b)((function(e){return{todoLists:e.firestore.ordered.todoLists,auth:e.firebase.auth}})))(M),W=a(3),V=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={redirect:!1,redirect_list:null},e.handleNewList=function(){var t=Object(h.getFirestore)(),a=(new Date).getTime(),n=Object.keys(e.props.todoLists).length;t.collection("todoLists").add({key:n,name:"Unknown",owner:"Unknown",items:new Array,time:a}).then((function(t){console.log("List Created"),console.log(t.id),e.setState({redirect_list:t.id}),e.setState({redirect:!0})})).catch((function(e){console.log(e)})),e.forceUpdate()},e}return Object(s.a)(a,[{key:"render",value:function(){if(!this.props.auth.uid)return r.a.createElement(S.a,{to:"/login"});if(this.state.redirect)return r.a.createElement(S.a,{to:"/todolist/"+this.state.redirect_list,key:this.state.redirect_list});var e=(new Date).getTime();return console.log(e),r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m4"},r.a.createElement(z,null)),r.a.createElement("div",{className:"col s8"},r.a.createElement("div",{className:"banner"},"@todo",r.a.createElement("br",null),"List Maker"),r.a.createElement("div",{className:"home_new_list_container"},r.a.createElement(W.Button,{large:!0,className:"home_new_list_button btn-padding",onClick:this.handleNewList},"Create a New To Do List")))))}}]),a}(n.Component),Y=Object(m.d)(Object(u.b)((function(e){return{todoLists:e.firestore.data.todoLists,auth:e.firebase.auth}})),Object(f.firestoreConnect)([{collection:"todoLists",orderBy:["time","desc"]}]))(V),K=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"moveUp",value:function(e,t){e.preventDefault();var a=this.props,n=(a.item,a.todoList);if(0!==t){var r=n.items;if(null!=r[t-1]){var i=r[t];r[t]=r[t-1],r[t-1]=i,r[t].key=t,r[t-1].key=t-1,r[t].id=t,r[t-1].id=t-1}Object(h.getFirestore)().collection("todoLists").doc(n.id).update({items:r})}}},{key:"moveDown",value:function(e,t){e.preventDefault();var a=this.props,n=(a.item,a.todoList);if(t!==n.items.length-1){var r=n.items;if(null!=r[t+1]){var i=r[t];r[t]=r[t+1],r[t+1]=i,r[t].key=t,r[t+1].key=t+1,r[t].id=t,r[t+1].id=t+1}Object(h.getFirestore)().collection("todoLists").doc(n.id).update({items:r})}}},{key:"deleteItem",value:function(e,t){e.preventDefault();for(var a=this.props,n=(a.item,a.todoList),r=0,i=n.items,o=0;o<i.length;o++)t===o||(i[r]=i[o],i[r].key=r,i[r].id=r,r++);i.pop(),Object(h.getFirestore)().collection("todoLists").doc(n.id).update({items:i})}},{key:"render",value:function(){var e=this,t=this.props,a=t.item;t.todoList;return r.a.createElement(W.Card,{className:"teal black-text lighten-4"},r.a.createElement(W.Row,null,r.a.createElement(W.Col,{s:3,className:"teal lighten-4"},r.a.createElement("h5",null,r.a.createElement("b",null,a.description)),"Assigned to: ",a.assigned_to),r.a.createElement(W.Col,{s:3,className:"teal lighten-4"},r.a.createElement("h6",null,r.a.createElement("b",null,a.due_date))),r.a.createElement(W.Col,{s:3,className:"teal lighten-4"},r.a.createElement("h6",null,r.a.createElement("b",null,a.completed?r.a.createElement("div",null,"Completed"):r.a.createElement("div",null,"Pending")))),r.a.createElement(W.Col,{s:3,className:"teal lighten-4"},r.a.createElement(W.Button,{floating:!0,fab:{direction:"left"},className:"red",large:!0},r.a.createElement(W.Button,{floating:!0,className:"red action-index",onClick:function(t){return e.moveUp(t,a.id)}},r.a.createElement("h5",{className:"action-button"},"\u21e7")),r.a.createElement(W.Button,{floating:!0,className:"yellow darken-1 action-index",onClick:function(t){return e.moveDown(t,a.id)}},r.a.createElement("h5",{className:"action-button"},"\u21e9")),r.a.createElement(W.Button,{floating:!0,className:"green action-index",onClick:function(t){return e.deleteItem(t,a.id)}},r.a.createElement("h5",{className:"action-button"},"x"))))))}}]),a}(r.a.Component),X=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).currentItemSortCriteria=null,n.newItemSortCriteria=null,n.flipped=!1,n}return Object(s.a)(a,[{key:"sortTasks",value:function(e){this.flip=!1,this.newItemSortCriteria=e;var t=this.props.todoList,a=t.items;console.log(this.newItemSortCriteria+this.currentItemSortCriteria),this.newItemSortCriteria===this.currentItemSortCriteria&&(this.flip=!0),this.flip&&!this.flipped?("task"===this.newItemSortCriteria?a.sort(this.compareTaskFlip):"dueDate"===this.newItemSortCriteria?a.sort(this.compareDueDateFlip):"status"===this.newItemSortCriteria&&a.sort(this.compareStatusFlip),this.flipped=!0):("task"===this.newItemSortCriteria?a.sort(this.compareTask):"dueDate"===this.newItemSortCriteria?a.sort(this.compareDueDate):"status"===this.newItemSortCriteria&&a.sort(this.compareStatus),this.flipped=!1),this.currentItemSortCriteria=e;for(var n=0;n<Object.keys(a).length;n++)a[n].key=n,a[n].id=n;Object(h.getFirestore)().collection("todoLists").doc(t.id).update({items:a})}},{key:"compareTask",value:function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}},{key:"compareDueDate",value:function(e,t){return e.due_date<t.due_date?-1:e.due_date>t.due_date?1:0}},{key:"compareStatus",value:function(e,t){return e.completed<t.completed?-1:e.completed>t.completed?1:0}},{key:"compareTaskFlip",value:function(e,t){var a=e;return e=t,t=a,e.description<t.description?-1:e.description>t.description?1:0}},{key:"compareDueDateFlip",value:function(e,t){var a=e;return e=t,t=a,e.due_date<t.due_date?-1:e.due_date>t.due_date?1:0}},{key:"compareStatusFlip",value:function(e,t){var a=e;return e=t,t=a,e.completed<t.completed?-1:e.completed>t.completed?1:0}},{key:"render",value:function(){var e=this,t=this.props.todoList,a=t.items;return console.log("ItemsList: todoList.id "+t.id),r.a.createElement("div",{className:"todo-lists section"},r.a.createElement(W.Card,{className:"teal lighten-1"},r.a.createElement(W.Row,null,r.a.createElement(W.Col,{s:3,className:"teal lighten-1"},r.a.createElement("div",{onClick:function(){return e.sortTasks("task")}},r.a.createElement("h4",{className:"category"},"Description"))),r.a.createElement(W.Col,{s:3,className:"teal lighten-1"},r.a.createElement("div",{onClick:function(){return e.sortTasks("dueDate")}},r.a.createElement("h4",{className:"category"},"Due Date"))),r.a.createElement(W.Col,{s:3,className:"teal lighten-1"},r.a.createElement("div",{onClick:function(){return e.sortTasks("status")}},r.a.createElement("h4",{className:"category"},"Status"))),r.a.createElement(W.Col,{s:3,className:"teal lighten-1"},r.a.createElement("div",null,r.a.createElement("h4",{className:"category"}))))),a&&a.map((function(e){return e.id=e.key,r.a.createElement(w.b,{to:"/editItem/"+t.id+"/"+e.id,todoList:t,item:e.id},r.a.createElement(K,{todoList:t,item:e}))})),r.a.createElement(w.b,{to:"/editItem/"+t.id+"/null",todoList:t},r.a.createElement(W.Card,{className:"teal lighten-1 add-card black-text"},"+")))}}]),a}(r.a.Component),q=Object(m.d)(Object(u.b)((function(e,t){return{todoList:t.todoList,auth:e.firebase.auth}})),Object(f.firestoreConnect)([{collection:"todoLists"}]))(X),H=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={name:"",owner:""},n.handleChange=function(e){var t=e.target;n.setState((function(e){return Object(v.a)(Object(v.a)({},e),{},Object(T.a)({},t.id,t.value))})),Object(h.getFirestore)().collection("todoLists").doc(n.props.todoList.id).update({name:document.getElementById("name").value,owner:document.getElementById("owner").value})},n.deleteList=function(){Object(h.getFirestore)().collection("todoLists").doc(n.props.todoList.id).delete().then((function(){console.log("List removed.")})).catch((function(e){console.error("Error removing list: ",e)}))},Object(h.getFirestore)().collection("todoLists").doc(n.props.todoList.id).update({time:(new Date).getTime()}),n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.auth,a=this.props.todoList;return t.uid?r.a.createElement("div",{className:"container white"},r.a.createElement(W.Row,null,r.a.createElement(W.Col,{s:"6"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Todo List")),r.a.createElement(W.Col,{className:"trash-col",s:"6"},r.a.createElement(W.Modal,{header:"Delete List",className:"delete-modal",id:"deleteModal",trigger:r.a.createElement(W.Button,{className:"trashcan",large:!0},"\ud83d\uddd1")},r.a.createElement("div",{id:"todo_delete_box",className:"inactive"},r.a.createElement("b",null,"Are you sure you want to delete this list?"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(w.b,{to:"/"},r.a.createElement(W.Button,{className:"btn-padding",id:"delete_confirm",onClick:function(){return e.deleteList()}},"Yes")),r.a.createElement(W.Button,{className:"btn-padding",modal:"close",id:"delete_cancel"},"No"),r.a.createElement("br",null),r.a.createElement("br",null),"The list will not be retreivable.")))),r.a.createElement("div",{className:"input-field"},r.a.createElement(W.Textarea,{label:"Name",className:"active",type:"text",name:"name",id:"name",onChange:this.handleChange,value:a.name})),r.a.createElement("div",{className:"input-field"},r.a.createElement(W.Textarea,{label:"Owner",className:"active",type:"text",name:"owner",id:"owner",onChange:this.handleChange,value:a.owner})),r.a.createElement(q,{todoList:a})):r.a.createElement(S.a,{to:"/"})}}]),a}(n.Component),Q=Object(m.d)(Object(u.b)((function(e,t){var a=t.match.params.id,n=e.firestore.data.todoLists,r=n?n[a]:null;return r.id=a,{todoList:r,todoLists:n,auth:e.firebase.auth}})),Object(f.firestoreConnect)([{collection:"todoLists"}]))(H),$=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).state={redirect:!1,redirect_list:null};var r=n.props.match.params,i=r.id,o=r.index;return n.id=i,n.index=o,"null"===o?(n.todoItem=new Object,n.blank=!0):(n.temp=n.props.todoLists.todoLists[i].items[o],n.todoItem=new Object,n.todoItem.assigned_to=n.temp.assigned_to,n.todoItem.completed=n.temp.completed,n.todoItem.description=n.temp.description,n.todoItem.due_date=n.temp.due_date,n.todoItem.id=n.temp.id,n.todoItem.key=n.temp.key,console.log(n.todoItem),n.blank=!1),n}return Object(s.a)(a,[{key:"setItemProperty",value:function(e){if(0!=Object.keys(this.todoItem).length){var t=document.getElementById("item_description_textfield").value,a=document.getElementById("item_assigned_to_textfield").value,n=document.getElementById("item_due_date_picker").value,r=document.getElementById("item_completed_checkbox").checked;e.description=t,e.assigned_to=a,e.due_date=n,e.completed=r}this.forceUpdate()}},{key:"submit",value:function(e){var t=this.props.match.params,a=t.id,n=t.index,r=Object(h.getFirestore)(),i=this.props.todoLists.todoLists[a].items;null!=e?i.push({key:e,id:e,description:document.getElementById("item_description_textfield").value,due_date:document.getElementById("item_due_date_picker").value,assigned_to:document.getElementById("item_assigned_to_textfield").value,completed:document.getElementById("item_completed_checkbox").checked}):i[n]=this.todoItem,console.log(i),r.collection("todoLists").doc(a).update({items:i}),this.setState({redirect_list:a}),this.setState({redirect:!0})}},{key:"cancel",value:function(e){this.setState({redirect_list:this.id}),this.setState({redirect:!0})}},{key:"render",value:function(){var e=this;return this.props.auth.uid?this.state.redirect?r.a.createElement(S.a,{to:"/todolist/"+this.state.redirect_list,key:this.state.redirect_list}):r.a.createElement("div",{className:"container white"},r.a.createElement("div",{id:"item_form_container"},r.a.createElement("span",{id:"item_description_title",className:"item-form-text"},"Item")),r.a.createElement("br",null),r.a.createElement("div",{id:"item_form_container"},r.a.createElement("span",{id:"item_description_prompt",className:"item-form-text"},"Description:"),r.a.createElement(W.Textarea,{type:"text",id:"item_description_textfield",value:null!=this.todoItem?this.todoItem.description:"",onChange:function(){return e.setItemProperty(e.todoItem)}})),r.a.createElement("br",null),r.a.createElement("div",{id:"item_form_container"},r.a.createElement("span",{id:"item_assigned_to_prompt",className:"item-form-text"},"Assigned to:"),r.a.createElement(W.Textarea,{type:"text",id:"item_assigned_to_textfield",value:null!=this.todoItem?this.todoItem.assigned_to:"",onChange:function(){return e.setItemProperty(e.todoItem)}})),r.a.createElement("br",null),r.a.createElement("div",{id:"item_form_container"},r.a.createElement("span",{id:"item_due_date_prompt",className:"item-form-text"},"Due Date:"),r.a.createElement("input",{type:"date",id:"item_due_date_picker",value:null!=this.todoItem?this.todoItem.due_date:"",onChange:function(){return e.setItemProperty(e.todoItem)}})),r.a.createElement("br",null),r.a.createElement("div",{id:"item_form_container"},r.a.createElement("span",{id:"item_completed_prompt",className:"item-form-text item-check"},"Completed:"),r.a.createElement(W.Checkbox,{id:"item_completed_checkbox",checked:null!=this.todoItem&&this.todoItem.completed,onChange:function(){return e.setItemProperty(e.todoItem)}})),r.a.createElement("br",null),this.blank?r.a.createElement("div",null,r.a.createElement(W.Button,{className:"btn-padding",id:"item_form_submit_button",onClick:function(){return e.submit(e.props.todoLists.todoLists[e.id].items.length)}},"Submit"),r.a.createElement(W.Button,{className:"btn-padding",id:"item_form_cancel_button",onClick:function(){return e.cancel(null)}},"Cancel")):r.a.createElement("div",null,r.a.createElement(W.Button,{className:"btn-padding",id:"item_form_submit_button",onClick:function(){return e.submit(null)}},"Submit"),r.a.createElement(W.Button,{className:"btn-padding",id:"item_form_cancel_button",onClick:function(){return e.cancel(e.todoItem)}},"Cancel"))):r.a.createElement(S.a,{to:"/login"})}}]),a}(n.Component),Z=Object(m.d)(Object(u.b)((function(e){return{todoLists:e.firestore.data,auth:e.firebase.auth}})),Object(f.firestoreConnect)([{collection:"todoLists"}]))($),ee=a(227),te=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleClear=function(){var e=Object(h.getFirestore)();e.collection("todoLists").get().then((function(t){t.forEach((function(t){console.log("deleting "+t.id),e.collection("todoLists").doc(t.id).delete()}))}))},e.handleReset=function(){var e=Object(h.getFirestore)();ee.todoLists.forEach((function(t){var a=(new Date).getTime();console.log(a),e.collection("todoLists").add({key:t.key,name:t.name,owner:t.owner,items:t.items,time:a}).then((function(){console.log("DATABASE RESET")})).catch((function(e){console.log(e)}))}))},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.handleClear},"Clear Database"),r.a.createElement("button",{onClick:this.handleReset},"Reset Database"))}}]),a}(r.a.Component),ae=Object(u.b)((function(e){return{auth:e.firebase.auth,firebase:e.firebase}}))(te),ne=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return this.props.auth.isLoaded?r.a.createElement(w.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(F,null),r.a.createElement(S.d,null,r.a.createElement(S.b,{exact:!0,path:"/",component:Y}),r.a.createElement(S.b,{path:"/databaseTester",component:ae}),r.a.createElement(S.b,{path:"/register",component:U}),r.a.createElement(S.b,{path:"/login",component:P}),r.a.createElement(S.b,{path:"/todoList/:id",component:Q}),r.a.createElement(S.b,{path:"/editItem/:id/:index",component:Z}),r.a.createElement(S.b,{path:"/:any",component:Y})))):null}}]),a}(n.Component),re=Object(m.d)(Object(f.firebaseConnect)(),Object(u.b)((function(e){return{auth:e.firebase.auth}})))(ne),ie=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;Object(c.a)(this,a),n=t.call(this,e);var r=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,i=Object(m.e)(L,r(Object(m.a)(p.a.withExtraArgument({getFirebase:f.getFirebase,getFirestore:h.getFirestore})),Object(h.reduxFirestore)(g))),o={firebase:g,config:{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0},dispatch:i.dispatch,createFirestoreInstance:h.createFirestoreInstance};return n.state={store:i,rrfProps:o},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,{store:this.state.store},r.a.createElement(f.ReactReduxFirebaseProvider,this.state.rrfProps,r.a.createElement(re,null)))}}]),a}(r.a.Component);o.a.render(r.a.createElement(ie,null),document.getElementById("root"))}},[[228,1,2]]]);
//# sourceMappingURL=main.ad607d80.chunk.js.map